<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EnergyQuota</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <style>
    body {
      background-color: #f8f9fa;
    }

    .input-box {
      border: 1px solid gray;
    }

    #toggle-btn {
      cursor: pointer;
      padding: 3px;
      width: 30px;
    }

    #toggle-btn-confirm {
      cursor: pointer;
      padding: 3px;
      width: 30px;
    }

    .btn-register {
      background-color: white;
      color: rgb(18, 56, 69);
      padding: 10px;
      border-radius: 6px;
      border: 2px solid #113946;
      width: 90px;
    }

    .btn-register:hover {
      background-color: #113946;
      color: white;
    }
  </style>
</head>

<body>
  <div class="container mt-3">
    <div class="row justify-content-center mt-2">
      <div class="col-lg-6 rounded p-3" style="background-color: white; box-shadow: 0 4px 4px 0 rgba(0,0,0,0.1);">
        <div class="text-center mb-2 rounded" style="background-color: #c7e9b0; color: #113946; padding: 10px;">
          <h3>EnergyQuota</h3>
          <h4>House owner registration</h4>
        </div>
        <form action="/owners/register" method="post">
          <% if(message[0]){ %>
            <div class="alert alert-info alert-dismissible fade show" role="alert">
              <%= message %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            <% } %>
              <div class="mb-3">
                <label for="name" class="form-label">full name</label>
                <input type="text" name="full_name" class="form-control" id="full_name"
                  placeholder="Enter your full name" required>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" name="email" id="email" class="form-control" placeholder="Enter your email" required>
              </div>
              <div class="mb-3">
                <label for="phone_number" class="form-label">Phone number</label>
                <input type="text" name="phone_number" class="form-control" id="phone_number" pattern="\+255\d{9}"
                  title="Enter a valid phone number starting with +255 and followed by 9 digits"
                  placeholder="+255XXXXXXXXX" required>
              </div>
              <div class="mb-3">
                <label for="meter_number" class="form-label">Meter number</label>
                <input type="text" name="meter_number" class="form-control" id="meter_number"
                  placeholder="Enter your meter number" required>
              </div>
              <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <div class="input-box d-flex align-items-center justify-content-center rounded">
                  <input style="border: none;" type="password" name="password" class="form-control" id="password"
                    placeholder="Enter your password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$"
                    title="Password must be at least 8 characters long and include at least one digit, one lowercase letter, and one uppercase letter"
                    required>
                  <img id="toggle-btn" onclick="togglePassword()" src="/images/eye-close.png" alt="Eye icon">
                </div>
              </div>
              <div class="mb-3">
                <label for="confirm-password" class="form-label">Confirm Password</label>
                <div class="input-box d-flex align-items-center justify-content-center rounded">
                  <input style="border: none;" type="password" name="confirm_password" class="form-control"
                    id="confirm_password" placeholder="Re-enter your password" required>
                  <img id="toggle-btn-confirm" onclick="togglePasswordConfirm()" src="/images/eye-close.png"
                    alt="Eye icon">
                </div>
              </div>
              <button class="btn btn-register" type="submit">Register</button>
        </form>
        <a href="/owners/login" style="text-decoration: none;">Already have an account.Login here!</a>
      </div>
    </div>
  </div>
  </div>
  <script>
    function togglePassword() {
      var passwordInput = document.getElementById("password");
      var type = passwordInput.type;
      passwordInput.type = type === "password" ? "text" : "password";
      var toggleBtn = document.getElementById("toggle-btn");
      toggleBtn.src = type === "password" ? "/images/eye-open.png" : "/images/eye-close.png";
    }

    function togglePasswordConfirm() {
      var passwordInput = document.getElementById("confirm_password");
      var type = passwordInput.type;
      passwordInput.type = type === "password" ? "text" : "password";
      var toggleBtn = document.getElementById("toggle-btn-confirm");
      toggleBtn.src = type === "password" ? "/images/eye-open.png" : "/images/eye-close.png";
    }

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
</body>

</html>